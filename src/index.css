@import 'leaflet/dist/leaflet.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		color-scheme: dark;
	}

	body {
		background-color: #2d2d2c;
		background-image:
			radial-gradient(900px 500px at 10% -10%, rgba(143, 0, 26, 0.35), transparent 60%),
			radial-gradient(800px 500px at 90% 0%, rgba(128, 116, 108, 0.25), transparent 60%),
			linear-gradient(180deg, rgba(45, 45, 44, 0.95), rgba(45, 45, 44, 1));
		color: #f6f4f3;
		min-height: 100vh;
	}
}

@layer components {
	.landing-background {
		background-image: url('./assets/cityscape-background.jpg');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		position: relative;
	}

	.landing-background::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(
			135deg,
			rgba(45, 45, 44, 0.75) 0%,
			rgba(45, 45, 44, 0.55) 50%,
			rgba(45, 45, 44, 0.65) 100%
		);
		z-index: 1;
	}

	.auth-background {
		background-image: url('./assets/campus-background.jpg');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		position: relative;
	}

	.auth-background::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(
			135deg,
			rgba(45, 45, 44, 0.85) 0%,
			rgba(45, 45, 44, 0.65) 50%,
			rgba(45, 45, 44, 0.75) 100%
		);
		z-index: 1;
	}

	.dashboard-background {
		background-image: url('./assets/tabaret.jpg');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		background-attachment: fixed;
		position: relative;
	}

	.dashboard-background::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(
			135deg,
			rgba(45, 45, 44, 0.75) 0%,
			rgba(45, 45, 44, 0.45) 50%,
			rgba(45, 45, 44, 0.6) 100%
		);
		z-index: 1;
		pointer-events: none;
	}

	/* Make dashboard content panels more solid for readability over the photo */
	.dashboard-background .glass-panel,
	.dashboard-background .glass-card {
		background: rgba(18,18,18,0.92) !important;
		border: 1px solid rgba(255,255,255,0.04) !important;
		box-shadow: 0 12px 30px rgba(0,0,0,0.6) !important;
		backdrop-filter: none !important;
		color: #f6f4f3;
		position: relative;
		z-index: 2;
	}

	.dashboard-background .glass-header {
		background: rgba(18,18,18,0.98) !important;
		border-bottom: 1px solid rgba(255,255,255,0.06) !important;
		backdrop-filter: none !important;
		z-index: 3;
	}

	/* Ensure panels inside the dashboard remain readable */
	.dashboard-background .glass-input,
	.dashboard-background .glass-button-secondary,
	.dashboard-background .glass-button {
		backdrop-filter: none !important;
	}

	/* Make dashboard tabs/buttons more opaque */
	.dashboard-background .glass-button {
		background: #8f001a !important;
		box-shadow: 0 10px 22px rgba(143, 0, 26, 0.35) !important;
	}

	.dashboard-background .glass-button-secondary {
		background: rgba(24, 24, 24, 0.95) !important;
		border-color: rgba(255, 255, 255, 0.1) !important;
	}

	.auth-content {
		position: relative;
		z-index: 2;
	}

	.glass-panel {
		background: rgba(45, 45, 44, 0.78);
		border: 1px solid rgba(255, 255, 255, 0.08);
		box-shadow: 0 24px 60px rgba(0, 0, 0, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.04);
		backdrop-filter: blur(18px) saturate(120%);
	}

	.glass-card {
		background: rgba(255, 255, 255, 0.06);
		border: 1px solid rgba(255, 255, 255, 0.08);
		box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
		backdrop-filter: blur(14px) saturate(120%);
	}

	.glass-header {
		background: rgba(45, 45, 44, 0.88);
		border-bottom: 1px solid rgba(255, 255, 255, 0.08);
		backdrop-filter: blur(18px) saturate(130%);
	}

	.glass-input {
		@apply w-full px-4 py-2 rounded-lg border border-white/10 bg-white/5 text-gray-100 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600/70;
	}

	.glass-button {
		@apply text-white font-semibold rounded-lg transition-colors;
		background: linear-gradient(135deg, rgba(143, 0, 26, 0.95), rgba(143, 0, 26, 0.65));
		border: 1px solid rgba(143, 0, 26, 0.6);
		box-shadow: 0 12px 28px rgba(143, 0, 26, 0.35);
	}

	.glass-button:hover {
		background: linear-gradient(135deg, rgba(143, 0, 26, 1), rgba(143, 0, 26, 0.75));
	}

	.glass-button-secondary {
		@apply text-gray-100 font-semibold rounded-lg transition-colors;
		background: rgba(255, 255, 255, 0.08);
		border: 1px solid rgba(255, 255, 255, 0.12);
	}

	.glass-button-secondary:hover {
		background: rgba(255, 255, 255, 0.14);
	}

	.glass-icon-button {
		@apply rounded-full transition-colors;
		background: rgba(255, 255, 255, 0.08);
		border: 1px solid rgba(255, 255, 255, 0.12);
	}

	.glass-icon-button:hover {
		background: rgba(255, 255, 255, 0.16);
	}

	.glass-pill {
		background: rgba(143, 0, 26, 0.2);
		border: 1px solid rgba(143, 0, 26, 0.45);
		color: #f2d6db;
	}

	.map-pin-icon {
		background: transparent;
		border: none;
	}

	.leaflet-div-icon {
		background: transparent;
		border: none;
	}
}
